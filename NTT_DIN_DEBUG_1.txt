------------------------------ input: 
2356
3206
2420
16
2370
4433
2310
2516
------------------------------ stage: 0
4726
2838
4730
2532
4787
3291
698
1173
------------------------------ stage: 1
4655
569
4797
2029
684
4464
4089
4536
------------------------------ stage: 2
423
4086
2025
2768
347
1021
3824
4354
------------------------------ result: 
423
4086
2025
2768
347
1021
3824
4354
